---
title: "가설 검정 - 모분산 (z-test, t-test)"

categories:
  - datascience

---

## 단일 모집단 분산 검정
- 모집단은 정규 분포를 따르고, 각 표본은 독립입니다.
- 귀무가설 : 모분산 = ? 
- 대립가설 : 모분산 < ? or 모분산 > ? or 모분산 != ?

![Validation](/assets/images/var.PNG){:width="900px" height="300px"}{: .center}


## 예제 1
레이저를 이용한 거리 측정기를 개발 중에 있습니다.

기존에 거리 측정기의 품질 합격 기준은 100m 거리를 재었을 때,

유의 수준 5%로 거리의 표준편차가 0.25m 이내여야 통과가 됩니다.

모의로 100m에서 거리를 측정 했을 때의 실험 결과가 아래와 같습니다.

100m 지점에서 측정된 거리는 정규 분포를 따른 다고 가정합니다. 이 때, 통과 여부를 판단해 봅니다.

```python
X = [
    99.674, 100.299, 100.085, 99.548, 99.826, 100.495, 99.272, 99.871, 100.380, 99.740, 
    99.796, 99.972, 100.447, 99.808, 99.867, 99.870, 100.662, 100.656, 100.301, 100.116, 
    100.221, 100.447, 99.719, 100.353, 99.624, 99.809, 100.272, 99.571, 99.958, 99.741
]
from scipy.stats import chi2

S_sq = np.var(X, ddof=1)
n = len(X)
Chi2 = (n-1)*S_sq/(0.25**2)
chi2.cdf(Chi2, n-1)
```


## 두 개의 모집단의 분산 검정
- 두 모집단은 정규 분포를 따르고, 각 표본은 서로 독립입니다.
- 귀무가설 : A 모분산 = B 모분산

![Validation](/assets/images/var2.PNG){:width="400px" height="300px"}{: .center}

- F검정

## 예제 2
신형 거리 계산기를 개발 중에 있습니다.

기존에 거리 계산기 보다 거리를 재었을 때보다 분산이 낮게 만드는 것을 목표로 하고 있습니다.

신형 거리 계산기의 개발의 성공 기준은 100m 거리를 재었을 때를 기준으로 합니다.

100m에서 거리를 측정 했을 때의 실험 결과가 아래와 같습니다.

유의 수준을 5%로 했을 때 기존 거리 계산기 보다 분산이 낮다고 판단할 수 있는지 확인합니다.

```python
X1 = [
    99.674, 100.299, 100.085, 99.548, 99.826, 100.495, 99.272, 99.871, 100.380, 99.740, 
    99.796, 99.972, 100.447, 99.808, 99.867, 99.870, 100.662, 100.656, 100.301, 100.116, 
    100.221, 100.447, 99.719, 100.353, 99.624, 99.809, 100.272, 99.571, 99.958, 99.741
]

X2 = [
    99.696, 100.279, 100.079, 99.578, 99.838, 100.462, 99.321, 99.880, 100.354, 99.757, 
    99.810, 99.973, 100.418, 99.821, 99.876, 99.878, 100.618, 100.612, 100.281, 100.108, 
    100.206, 100.417, 99.738, 100.329, 99.649, 99.821, 100.254, 99.600, 99.961, 99.759, 
    99.928, 99.216, 99.504, 99.804, 100.260
]

from scipy.stats import f

S1_sq = np.var(X1, ddof=1)
S2_sq = np.var(X2, ddof=1)

n1=len(X1)
n2=len(X2)
F = S2_sq/S1_sq
F, f.cdf(F, dfn=n2-1, dfd=n1-1)
# (0.9634117421966866, 0.45501804967354664)
```