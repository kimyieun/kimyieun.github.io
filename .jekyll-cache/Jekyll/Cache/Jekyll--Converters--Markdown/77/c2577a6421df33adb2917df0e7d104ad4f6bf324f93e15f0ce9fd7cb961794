I"şb<h1 id="socket">Socket</h1>

<ul>
  <li>ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ê°€ ë°ì´í„°ë¥¼ ì£¼ê³  ë°›ì„ ë•Œ í†µì‹ í•  ìˆ˜ ìˆë„ë¡ ì—°ê²°í•´ì£¼ëŠ” ì—°ê²°ë¶€ì´ë‹¤.</li>
  <li>í•˜ë‚˜ì˜ ì†Œì¼“ìœ¼ë¡œëŠ” í•˜ë‚˜ì˜ í´ë¼ì´ì–¸íŠ¸ì™€ë§Œ í†µì‹ ì´ ê°€ëŠ¥í•˜ë‹¤. í•˜ë‚˜ì˜ í¬íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒ ê°™ì§€ë§Œ, ë‚´ë¶€ì ìœ¼ë¡œëŠ” í´ë¼ì´ì–¸íŠ¸ ìˆ˜ë§Œí¼ì˜ í¬íŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤.</li>
</ul>

<h3 id="ì‹¤ì‹œê°„-ë°ì´í„°-ì „ì†¡-ë°©ì‹">ì‹¤ì‹œê°„ ë°ì´í„° ì „ì†¡ ë°©ì‹</h3>

<ul>
  <li>polling
    <ul>
      <li>ì£¼ê¸°ì ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ë¡œ ìš”ì²­ì„ ë³´ë‚´ ë³€ê²½ëœ ì •ë³´ê°€ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤. ì„œë²„ë¡œë¶€í„°ì˜ ë©”ì‹œì§€ê°€ ì¼ì • ê°„ê²©ë§ˆë‹¤ ìˆì„ ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li>
      <li>ë‹¨ì ìœ¼ë¡œëŠ” ë°ì´í„° ì „ì†¡ ì£¼ê¸°ê°€ ì˜ˆì¸¡ì´ ì•ˆë˜ëŠ” ê²½ìš°, ë¶ˆí•„ìš”í•œ ì—°ê²°ì„ ì§€ì†ì ìœ¼ë¡œ í•´ì•¼í•œë‹¤ëŠ” ê²ƒì´ ìˆë‹¤.</li>
    </ul>
  </li>
  <li>long polling
    <ul>
      <li>í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì— ì •ë³´ë¥¼ ìš”ì²­í•˜ê³  ì¼ì • ì‹œê°„ë™ì•ˆ ì—°ê²°ì„ ì—´ì–´ë‘ëŠ” ë°©ë²•ì´ë‹¤. í´ë¼ì´ì–¸íŠ¸ê°€ ì •ë³´ë¥¼ ë°›ìœ¼ë©´ ë°ì´í„° ì²˜ë¦¬ í›„ ë‹¤ì‹œ ì„œë²„ë¡œ ì¬ìš”ì²­ì„ ë³´ë‚´ê³ , ì •ë³´ê°€ ì—†ìœ¼ë©´ ì¼ì • ì‹œê°„ í›„ ë‹«íŒ í›„ ë‹¤ì‹œ ìš”ì²­í•œë‹¤.</li>
      <li>ë‹¨ì ì€ ì •ë³´ì˜ ì „ì†¡ì´ ë¹ˆë²ˆí•œ ê²½ìš°ì— pollingì— ë¹„í•´ ì„±ëŠ¥ìƒ ì´ì ì´ í¬ì§€ ì•Šë‹¤.</li>
    </ul>
  </li>
  <li>
    <p>HTML5 Websocket</p>

    <ul>
      <li>ì´ì „ HTTP í†µì‹ ê³¼ ë‹¤ë¥´ê²Œ ì„œë²„ ê°„ ì–‘ë°©í–¥ í†µì‹ ì´ ê°€ëŠ¥í•˜ë‹¤.</li>
    </ul>
  </li>
</ul>

<h3 id="serverc">server.c</h3>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*
   C socket server example
*/</span>

<span class="cp">#include&lt;stdio.h&gt;
#include&lt;string.h&gt;   //strlen
#include&lt;sys/socket.h&gt;
#include&lt;arpa/inet.h&gt;   //inet_addr
#include&lt;unistd.h&gt;   //write
</span>
<span class="c1">//ë¸Œë¼ìš°ì €ê°€ ì´ ì„œë²„ ì£¼ì†Œë¡œ ë°”ë¡œ ì ‘ì†í•˜ë©´ http ìš”ì²­ì„ ë³´ë‚¸ë‹¤. ì´ ë•Œ, responseë¥¼ ì•„ë˜ì™€ ê°™ì´ ëŒë ¤ì£¼ë©´ ì‹¤ì œ http responseë¡œ ì¸ì‹í•´ ì›¹í˜ì´ì§€ë¥¼ ë„ì›Œì¤€ë‹¤.</span>
<span class="kt">char</span> <span class="n">response</span><span class="p">[]</span> <span class="o">=</span> <span class="s">"HTTP/1.1 200 OK</span><span class="se">\n</span><span class="s">\
Date: Mon, 27 Jul 2009 12:28:53 GMT</span><span class="se">\n</span><span class="s">\
Server: Apache/2.2.14 (Win32)</span><span class="se">\n</span><span class="s">\
Last-Modified: Wed, 22 Jul 2009 19:15:56 GMT</span><span class="se">\n</span><span class="s">\
Content-Length: 88</span><span class="se">\n</span><span class="s">\
Content-Type: text/html</span><span class="se">\n</span><span class="s">\
Connection: Closed</span><span class="se">\n</span><span class="s">\
</span><span class="se">\n</span><span class="s">\
&lt;html&gt;</span><span class="se">\n</span><span class="s">\
&lt;body&gt;</span><span class="se">\n</span><span class="s">\
&lt;h1&gt;Hello, World!&lt;/h1&gt;</span><span class="se">\n</span><span class="s">\
&lt;/body&gt;</span><span class="se">\n</span><span class="s">\
&lt;/html&gt;</span><span class="se">\n</span><span class="s">\
"</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span> <span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
   <span class="kt">int</span> <span class="n">socket_desc</span> <span class="p">,</span> <span class="n">client_sock</span> <span class="p">,</span> <span class="n">c</span> <span class="p">,</span> <span class="n">read_size</span><span class="p">;</span>
   <span class="k">struct</span> <span class="n">sockaddr_in</span> <span class="n">server</span> <span class="p">,</span> <span class="n">client</span><span class="p">;</span>
   <span class="kt">char</span> <span class="n">client_message</span><span class="p">[</span><span class="mi">2000</span><span class="p">];</span>

   <span class="c1">//Create socket</span>
   <span class="n">socket_desc</span> <span class="o">=</span> <span class="n">socket</span><span class="p">(</span><span class="n">AF_INET</span> <span class="p">,</span> <span class="n">SOCK_STREAM</span> <span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
   <span class="k">if</span> <span class="p">(</span><span class="n">socket_desc</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
   <span class="p">{</span>
      <span class="n">printf</span><span class="p">(</span><span class="s">"Could not create socket"</span><span class="p">);</span>
   <span class="p">}</span>
   <span class="n">puts</span><span class="p">(</span><span class="s">"Socket created"</span><span class="p">);</span>

   <span class="c1">//Prepare the sockaddr_in structure</span>
   <span class="n">server</span><span class="p">.</span><span class="n">sin_family</span> <span class="o">=</span> <span class="n">AF_INET</span><span class="p">;</span> <span class="c1">//IP4</span>
   <span class="n">server</span><span class="p">.</span><span class="n">sin_addr</span><span class="p">.</span><span class="n">s_addr</span> <span class="o">=</span> <span class="n">INADDR_ANY</span><span class="p">;</span> <span class="c1">//0.0.0.0</span>
   <span class="c1">//127.0.0.1 í˜¸ìŠ¤íŠ¸ ì£¼ì†ŒëŠ” ë‚˜ë§Œ ì ‘ì† ê°€ëŠ¥í•˜ë‹¤. ë‹¤ë¥¸ ì»´í“¨í„°ì—ì„œëŠ” ì ‘ì† ë¶ˆê°€.</span>
   <span class="c1">// 10.13.2.1 ì€ 10.13.2.4ì— ì ‘ì†í•˜ê¸° ìœ„í•´ì„œ 10.13.2.0 ì´ë¼ ì“°ë©´ ëœë‹¤.</span>
   <span class="c1">// 0ì€ ì—¬ê¸°ì„œ * ê°™ì€ ì˜ë¯¸ë¡œ ì‚¬ìš©ë¨.</span>
   <span class="n">server</span><span class="p">.</span><span class="n">sin_port</span> <span class="o">=</span> <span class="n">htons</span><span class="p">(</span> <span class="mi">8889</span> <span class="p">);</span> <span class="c1">//í¬íŠ¸ ì§€ì •</span>

   <span class="c1">//Bind - ì†Œì¼“ê³¼ ì„œë²„ë¥¼ ë°”ì¸ë”©í•œë‹¤. ì´ ë•Œ ì†Œì¼“ì´ ì—´ë¦¬ê³  ì„œë²„ê°€ ì‹¤í–‰ëœë‹¤.</span>
   <span class="c1">//ë°”ì¸ë”©ì´ ì‹¤íŒ¨í•˜ëŠ” ê²½ìš° - í¬íŠ¸ë¥¼ ì´ë¯¸ ì‚¬ìš© ì¤‘ì¼ ë•Œ.</span>
   <span class="k">if</span><span class="p">(</span> <span class="n">bind</span><span class="p">(</span><span class="n">socket_desc</span><span class="p">,(</span><span class="k">struct</span> <span class="n">sockaddr</span> <span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">server</span> <span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">server</span><span class="p">))</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
   <span class="p">{</span>
      <span class="c1">//print the error message</span>
      <span class="n">perror</span><span class="p">(</span><span class="s">"bind failed. Error"</span><span class="p">);</span>
      <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
   <span class="p">}</span>
   <span class="n">puts</span><span class="p">(</span><span class="s">"bind done"</span><span class="p">);</span>

   <span class="c1">//Listen</span>
   <span class="n">listen</span><span class="p">(</span><span class="n">socket_desc</span> <span class="p">,</span> <span class="mi">3</span><span class="p">);</span>

   <span class="c1">//Accept and incoming connection</span>
   <span class="n">puts</span><span class="p">(</span><span class="s">"Waiting for incoming connections..."</span><span class="p">);</span>
   <span class="n">c</span> <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">sockaddr_in</span><span class="p">);</span>

   <span class="c1">//accept connection from an incoming client</span>
   <span class="n">client_sock</span> <span class="o">=</span> <span class="n">accept</span><span class="p">(</span><span class="n">socket_desc</span><span class="p">,</span> <span class="p">(</span><span class="k">struct</span> <span class="n">sockaddr</span> <span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">client</span><span class="p">,</span> <span class="p">(</span><span class="n">socklen_t</span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">c</span><span class="p">);</span>
   <span class="k">if</span> <span class="p">(</span><span class="n">client_sock</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
   <span class="p">{</span>
      <span class="n">perror</span><span class="p">(</span><span class="s">"accept failed"</span><span class="p">);</span>
      <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
   <span class="p">}</span>
   <span class="n">puts</span><span class="p">(</span><span class="s">"Connection accepted"</span><span class="p">);</span>

   <span class="c1">//Receive a message from client</span>
   <span class="c1">//recv í•¨ìˆ˜ê°€ í´ë¼ì´ì–¸íŠ¸ì˜ ë©”ì‹œì§€ë¥¼ ë°›ì„ ë•Œê¹Œì§€ ë¬´í•œë£¨í”„ë¥¼ ëˆë‹¤.</span>
   <span class="k">while</span><span class="p">(</span> <span class="p">(</span><span class="n">read_size</span> <span class="o">=</span> <span class="n">recv</span><span class="p">(</span><span class="n">client_sock</span> <span class="p">,</span> <span class="n">client_message</span> <span class="p">,</span> <span class="mi">2000</span> <span class="p">,</span> <span class="mi">0</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">)</span>
   <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"Got %s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">client_message</span><span class="p">);</span>
      <span class="c1">//Send the message back to client</span>
      <span class="n">write</span><span class="p">(</span><span class="n">client_sock</span> <span class="p">,</span> <span class="n">response</span> <span class="p">,</span> <span class="n">strlen</span><span class="p">(</span><span class="n">response</span><span class="p">));</span>
   <span class="p">}</span>

   <span class="k">if</span><span class="p">(</span><span class="n">read_size</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
   <span class="p">{</span>
      <span class="n">puts</span><span class="p">(</span><span class="s">"Client disconnected"</span><span class="p">);</span>
      <span class="n">fflush</span><span class="p">(</span><span class="n">stdout</span><span class="p">);</span>
   <span class="p">}</span>
   <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">read_size</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
   <span class="p">{</span>
      <span class="n">perror</span><span class="p">(</span><span class="s">"recv failed"</span><span class="p">);</span>
   <span class="p">}</span>

   <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="clientc">client.c</h3>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*
   C ECHO client example using sockets
*/</span>
<span class="cp">#include &lt;stdio.h&gt;   //printf
#include &lt;string.h&gt;   //strlen
#include &lt;sys/socket.h&gt;   //socket
#include &lt;arpa/inet.h&gt;   //inet_addr
#include &lt;unistd.h&gt;
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span> <span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
   <span class="kt">int</span> <span class="n">sock</span><span class="p">;</span>
   <span class="k">struct</span> <span class="n">sockaddr_in</span> <span class="n">server</span><span class="p">;</span>
   <span class="kt">char</span> <span class="n">message</span><span class="p">[</span><span class="mi">1000</span><span class="p">]</span> <span class="p">,</span> <span class="n">server_reply</span><span class="p">[</span><span class="mi">2000</span><span class="p">];</span>

   <span class="c1">//Create socket</span>
   <span class="n">sock</span> <span class="o">=</span> <span class="n">socket</span><span class="p">(</span><span class="n">AF_INET</span> <span class="p">,</span> <span class="n">SOCK_STREAM</span> <span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
   <span class="k">if</span> <span class="p">(</span><span class="n">sock</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
   <span class="p">{</span>
      <span class="n">printf</span><span class="p">(</span><span class="s">"Could not create socket"</span><span class="p">);</span>
   <span class="p">}</span>
   <span class="n">puts</span><span class="p">(</span><span class="s">"Socket created"</span><span class="p">);</span>

   <span class="n">server</span><span class="p">.</span><span class="n">sin_addr</span><span class="p">.</span><span class="n">s_addr</span> <span class="o">=</span> <span class="n">inet_addr</span><span class="p">(</span><span class="s">"127.0.0.1"</span><span class="p">);</span>
   <span class="n">server</span><span class="p">.</span><span class="n">sin_family</span> <span class="o">=</span> <span class="n">AF_INET</span><span class="p">;</span>
   <span class="n">server</span><span class="p">.</span><span class="n">sin_port</span> <span class="o">=</span> <span class="n">htons</span><span class="p">(</span> <span class="mi">8888</span> <span class="p">);</span> <span class="c1">//ì„œë²„ì˜ portì™€ ë™ì¼í•´ì•¼ í•œë‹¤.</span>
   <span class="c1">// ì„œë²„ì—ì„œëŠ” 8888í¬íŠ¸ë¥¼ ì—´ê² ë‹¤ëŠ” ì˜ë¯¸ì´ê³ , í´ë¼ì´ì–¸íŠ¸ì—ì„œëŠ” 8888í¬íŠ¸ì— ì ‘ì†í•œë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤. í´ë¼ì´ì–¸íŠ¸ëŠ” ì‚¬ìš©ì ì…ë ¥ì„ ë°›ì•„ 8888í¬íŠ¸ë¡œ ì „ì†¡ì„ í•˜ê³  ì„œë²„ëŠ” 8888í¬íŠ¸ì—ì„œ ì´ê±¸ ë°›ì•„ì„œ í´ë¼ì´ì–¸íŠ¸ë¡œ response í•œë‹¤.</span>

   <span class="c1">//Connect to remote server</span>
   <span class="k">if</span> <span class="p">(</span><span class="n">connect</span><span class="p">(</span><span class="n">sock</span> <span class="p">,</span> <span class="p">(</span><span class="k">struct</span> <span class="n">sockaddr</span> <span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">server</span> <span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">server</span><span class="p">))</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
   <span class="p">{</span>
      <span class="n">perror</span><span class="p">(</span><span class="s">"connect failed. Error"</span><span class="p">);</span>
      <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
   <span class="p">}</span>

   <span class="n">puts</span><span class="p">(</span><span class="s">"Connected</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>

   <span class="c1">//keep communicating with server</span>
   <span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
   <span class="p">{</span>
      <span class="n">printf</span><span class="p">(</span><span class="s">"Enter message : "</span><span class="p">);</span>
      <span class="n">scanf</span><span class="p">(</span><span class="s">"%s"</span> <span class="p">,</span> <span class="n">message</span><span class="p">);</span>

      <span class="c1">//Send some data</span>
      <span class="k">if</span><span class="p">(</span> <span class="n">send</span><span class="p">(</span><span class="n">sock</span> <span class="p">,</span> <span class="n">message</span> <span class="p">,</span> <span class="n">strlen</span><span class="p">(</span><span class="n">message</span><span class="p">)</span> <span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
      <span class="p">{</span>
         <span class="n">puts</span><span class="p">(</span><span class="s">"Send failed"</span><span class="p">);</span>
         <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
      <span class="p">}</span>

      <span class="c1">//Receive a reply from the server</span>
      <span class="k">if</span><span class="p">(</span> <span class="n">recv</span><span class="p">(</span><span class="n">sock</span> <span class="p">,</span> <span class="n">server_reply</span> <span class="p">,</span> <span class="mi">2000</span> <span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
      <span class="p">{</span>
         <span class="n">puts</span><span class="p">(</span><span class="s">"recv failed"</span><span class="p">);</span>
         <span class="k">break</span><span class="p">;</span>
      <span class="p">}</span>

      <span class="n">puts</span><span class="p">(</span><span class="s">"Server reply :"</span><span class="p">);</span>
      <span class="n">puts</span><span class="p">(</span><span class="n">server_reply</span><span class="p">);</span>
   <span class="p">}</span>

   <span class="n">close</span><span class="p">(</span><span class="n">sock</span><span class="p">);</span>
   <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="websocket">Websocket</h3>

<ul>
  <li>ì‚¬ìš©ìì˜ ë¸Œë¼ìš°ì €ì™€ ì„œë²„ ì‚¬ì´ì˜ ë™ì ì¸ ì–‘ë°©í–¥ ì—°ê²° ì±„ë„ì„ êµ¬ì„±í•˜ëŠ” HTML5 í”„ë¡œí† ì½œì´ë‹¤.</li>
  <li>WebSocket API ë¥¼ í†µí•´ ì„œë²„ë¡œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê³ , ë³„ë„ì˜ ìš”ì²­ ì—†ì´ë„ ì‘ë‹µì„ ë°›ì•„ì˜¤ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤.</li>
  <li>
    <p>HTTP ëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ìš”ì²­ì„ ë³´ë‚´ì•¼ í•˜ì§€ë§Œ ì„œë²„ê°€ ë³€ê²½ ì‚¬í•­ì„ ë³´ë‚´ì¤„ ìˆ˜ ìˆì§€ë§Œ, WebSocket ì—°ê²°ì€ HTTP í†µì‹ ê³¼ëŠ” ë‹¤ë¥´ê²Œ í´ë¼ì´ì–¸íŠ¸ê°€ ì£¼ê¸°ë¥¼ ê°€ì§€ê³  polling í•˜ì§€ ì•Šì•„ë„ ë³€ê²½ëœ ì‚¬í•­ì„ ì‹œê¸° ì ì ˆí•˜ê²Œ ì§€ì†ì ìœ¼ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆëŠ” ì™„ì „í•œ ì–‘ë°©í–¥ ì—°ê²° ìŠ¤íŠ¸ë¦¼ì„ ë§Œë“¤ì–´ì£¼ëŠ” ê¸°ìˆ ì´ë‹¤.</p>
  </li>
  <li>client(ë¸Œë¼ìš°ì €) websocket (index.html)</li>
</ul>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span> <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"input"</span><span class="nt">&gt;&lt;/input&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">id=</span><span class="s">"chatButton"</span><span class="nt">&gt;</span>chat<span class="nt">&lt;/button&gt;</span>
        <span class="nt">&lt;script&gt;</span>
          <span class="c1">// ì›¹ì†Œì¼“ ì „ì—­ ê°ì²´ ìƒì„±</span>
          <span class="kd">var</span> <span class="nx">ws</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WebSocket</span><span class="p">(</span><span class="dl">"</span><span class="s2">ws://localhost:3000</span><span class="dl">"</span><span class="p">);</span>

          <span class="c1">// ì—°ê²°ì´ ìˆ˜ë¦½ë˜ë©´ ì„œë²„ì— ë©”ì‹œì§€ë¥¼ ì „ì†¡í•œë‹¤</span>
          <span class="nx">ws</span><span class="p">.</span><span class="nx">onopen</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">"</span><span class="s2">Client message: Hi!</span><span class="dl">"</span><span class="p">);</span>
          <span class="p">};</span>

          <span class="c1">// ì„œë²„ë¡œ ë¶€í„° ë©”ì‹œì§€ë¥¼ ìˆ˜ì‹ í•œë‹¤</span>
          <span class="nx">ws</span><span class="p">.</span><span class="nx">onmessage</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Server message: </span><span class="dl">"</span><span class="p">,</span> <span class="nx">event</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
          <span class="p">};</span>

          <span class="c1">// error event handler</span>
          <span class="nx">ws</span><span class="p">.</span><span class="nx">onerror</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Server error message: </span><span class="dl">"</span><span class="p">,</span> <span class="nx">event</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
          <span class="p">};</span>

          <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">input</span><span class="dl">'</span><span class="p">).</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">keyup</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">key</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">Enter</span><span class="dl">'</span> <span class="o">||</span> <span class="nx">e</span><span class="p">.</span><span class="nx">keyCode</span> <span class="o">===</span> <span class="mi">13</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
            <span class="p">}</span>
          <span class="p">})</span>
        <span class="nt">&lt;/script&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<ul>
  <li>Node.js ê¸°ë°˜ ì„œë²„ (server.js)</li>
</ul>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">WebsocketS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">ws</span><span class="dl">"</span><span class="p">).</span><span class="nx">Server</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">wss</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WebSocketServer</span><span class="p">({</span> <span class="na">port</span><span class="p">:</span> <span class="mi">3000</span> <span class="p">});</span>

<span class="nx">wss</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">"</span><span class="s2">connection</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">ws</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">"</span><span class="s2">hello, I am a server</span><span class="dl">"</span><span class="p">);</span>
  <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">"</span><span class="s2">message</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Received : %s</span><span class="dl">"</span><span class="p">,</span> <span class="nx">message</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="http">HTTP</h3>

<ul>
  <li>
    <h2 id="ì¼ì¢…ì˜-ì†Œì¼“">ì¼ì¢…ì˜ ì†Œì¼“?</h2>
  </li>
</ul>

<h3 id="tcpip-model">TCP/IP MODEL</h3>
:ET