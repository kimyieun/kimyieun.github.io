I"äP<h1 id="asyncawait">async/await</h1>

<ul>
  <li>generatorë¥¼ ì‚¬ìš©í•˜ì—¬ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ë™ê¸° ì²˜ë¦¬ì²˜ëŸ¼ ë™ì‘í•˜ë„ë¡ êµ¬í˜„í–ˆì§€ë§Œ ì½”ë“œê°€ ë¬´ì²™ ì¥í™©í•˜ê³  ê°€ë…ì„±ì´ ë–¨ì–´ì§„ë‹¤.</li>
  <li>ES8ì—ì„œëŠ” ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ë™ê¸° ì²˜ë¦¬ì²˜ëŸ¼ ë™ì‘í•˜ë„ë¡ êµ¬í˜„í•˜ëŠ” async/awaitë¥¼ ë„ì…í•˜ì˜€ë‹¤.
    <ul>
      <li>async/await ëŠ” promise ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•œë‹¤. í”„ë¡œë¯¸ìŠ¤ì˜ í›„ì† ì²˜ë¦¬ ë©”ì†Œë“œì— ì½œë°± í•¨ìˆ˜ë¥¼ ì „ë‹¬í•´ ë¹„ë™ê¸° ì²˜ë¦¬ ê²°ê³¼ë¥¼ í›„ì† ì²˜ë¦¬í•  í•„ìš” ì—†ì´ ë§ˆì¹˜ ë™ê¸° ì²˜ë¦¬ì²˜ëŸ¼ í”„ë¡œë¯¸ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li>
    </ul>
  </li>
</ul>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">fetch</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">node-fetch</span><span class="dl">'</span><span class="p">);</span>
<span class="k">async</span> <span class="kd">function</span> <span class="nx">fetchTodo</span><span class="p">(){</span>
    <span class="kd">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://jsonplaceholder.typicode.com/todos/1</span><span class="dl">'</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">todo</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">todo</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">fetchTodo</span><span class="p">();</span>
</code></pre></div></div>

<h3 id="async-í•¨ìˆ˜">async í•¨ìˆ˜</h3>
<ul>
  <li>await í‚¤ì›Œë“œëŠ” ë°˜ë“œì‹œ async í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤. async í•¨ìˆ˜ëŠ” ì–¸ì œë‚˜ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤.</li>
  <li>ëª…ì‹œì ìœ¼ë¡œ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ì§€ ì•Šë”ë¼ê³  ì•”ë¬µì ìœ¼ë¡œ ë°˜í™˜ê°’ì„ resolveí•˜ëŠ” í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤.
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//async í•¨ìˆ˜ ì„ ì–¸ë¬¸</span>
<span class="k">async</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">n</span><span class="p">){</span><span class="k">return</span> <span class="nx">n</span><span class="p">};</span>
<span class="nx">foo</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">v</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">v</span><span class="p">));</span> <span class="c1">// 1</span>

<span class="c1">//async í•¨ìˆ˜ í‘œí˜„ì‹</span>
<span class="kd">const</span> <span class="nx">bar</span> <span class="o">=</span> <span class="k">async</span> <span class="kd">function</span><span class="p">(</span><span class="nx">n</span><span class="p">){</span><span class="k">return</span> <span class="nx">n</span><span class="p">};</span>
<span class="nx">bar</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">v</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">v</span><span class="p">));</span> <span class="c1">// 2</span>

<span class="c1">//async í™”ì‚´í‘œ í•¨ìˆ˜</span>
<span class="kd">const</span> <span class="nx">baz</span> <span class="o">=</span> <span class="k">async</span> <span class="nx">n</span> <span class="o">=&gt;</span> <span class="nx">n</span><span class="p">;</span>
<span class="nx">baz</span><span class="p">(</span><span class="mi">3</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">v</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">v</span><span class="p">));</span> <span class="c1">// 3</span>

<span class="c1">//async ë©”ì†Œë“œ</span>
<span class="kd">const</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="k">async</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">n</span><span class="p">){</span><span class="k">return</span> <span class="nx">n</span><span class="p">;}</span>
<span class="p">};</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span><span class="p">(</span><span class="mi">4</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">v</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">v</span><span class="p">));</span> <span class="c1">// 4</span>

<span class="c1">//async class method</span>
<span class="kd">class</span> <span class="nx">MyClass</span><span class="p">{</span>
    <span class="k">async</span> <span class="nx">bar</span><span class="p">(</span><span class="nx">n</span><span class="p">){</span><span class="k">return</span> <span class="nx">n</span><span class="p">;}</span>
<span class="p">}</span>
<span class="kd">const</span> <span class="nx">myClass</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MyClass</span><span class="p">();</span>
<span class="nx">myClass</span><span class="p">.</span><span class="nx">bar</span><span class="p">(</span><span class="mi">5</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">v</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">v</span><span class="p">));</span> <span class="c1">// 5</span>
</code></pre></div>    </div>
    <ul>
      <li>í´ë˜ìŠ¤ì˜ constructor ë©”ì†Œë“œëŠ” async ë©”ì†Œë“œê°€ ë  ìˆ˜ ì—†ë‹¤. constructor ë©”ì†Œë“œëŠ” instanceë¥¼ ë°˜í™˜í•´ì•¼ í•˜ëŠ”ë°, async í•¨ìˆ˜ëŠ” ì–¸ì œë‚˜ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì´ë‹¤.</li>
    </ul>
  </li>
</ul>

<h3 id="await-í‚¤ì›Œë“œ">await í‚¤ì›Œë“œ</h3>
<ul>
  <li>await í‚¤ì›Œë“œëŠ” í”„ë¡œë¯¸ìŠ¤ê°€ settled ìƒíƒœ(ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ìˆ˜í–‰ëœ ìƒíƒœ)ê°€ ë  ë•Œê¹Œì§€ ëŒ€ê¸°í•˜ë‹¤ê°€ settled ìƒíƒœê°€ ë˜ë©´ í”„ë¡œë¯¸ìŠ¤ê°€ resolve í•œ ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤.</li>
  <li>await í‚¤ì›Œë“œëŠ” ë°˜ë“œì‹œ í”„ë¡œë¯¸ìŠ¤ ì•ì—ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">fetch</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">node-fetch</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">getGithubUserName</span> <span class="o">=</span> <span class="k">async</span> <span class="nx">id</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s2">`https://api.github.com/users/</span><span class="p">${</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span> <span class="c1">// 1</span>
    <span class="kd">const</span> <span class="p">{</span><span class="nx">name</span><span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span> <span class="c1">// 2</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span> <span class="c1">//YIEUN</span>
<span class="p">};</span>
<span class="nx">getGithubUserName</span><span class="p">(</span><span class="dl">'</span><span class="s1">Yieun</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div>    </div>

    <ul>
      <li>1ì—ì„œ fetch í•¨ìˆ˜ê°€ ìˆ˜í–‰í•œ HTTP ìš”ì²­ì— ëŒ€í•œ ì„œë²„ì˜ ì‘ë‹µì´ ë„ì°©í•´ì„œ FETCH í•¨ìˆ˜ê°€ ë°˜í™˜í•œ í”„ë¡œë¯¸ìŠ¤ê°€ settled ìƒíƒœê°€ ë  ë•Œê¹Œì§€ 1ì€ ëŒ€ê¸°í•œë‹¤. ì´í›„, <strong>í”„ë¡œë¯¸ìŠ¤ê°€ settled ìƒíƒœê°€ ë˜ë©´ í”„ë¡œë¯¸ìŠ¤ê°€ resolve í•œ ì²˜ë¦¬ ê²°ê³¼ê°€ res ë³€ìˆ˜ì— í• ë‹¹ëœë‹¤.</strong></li>
    </ul>
  </li>
  <li>await í‚¤ì›Œë“œëŠ” ë‹¤ìŒ ì‹¤í–‰ì„ ì¼ì‹œ ì¤‘ì§€ì‹œì¼°ë‹¤ê°€ í”„ë¡œë¯¸ìŠ¤ê°€ settled ìƒíƒœê°€ ë˜ë©´ ë‹¤ì‹œ ì¬ê°œí•œë‹¤.
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">(){</span>
  <span class="kd">const</span> <span class="nx">res1</span> <span class="o">=</span> <span class="k">await</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="nx">resolve</span> <span class="o">=&gt;</span> <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">resolve</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="mi">3000</span><span class="p">));</span>
  <span class="kd">const</span> <span class="nx">res2</span> <span class="o">=</span> <span class="k">await</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="nx">resolve</span> <span class="o">=&gt;</span> <span class="nx">setTimeout</span><span class="p">(()</span><span class="o">=&gt;</span> <span class="nx">resolve</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="mi">2000</span><span class="p">));</span>
  <span class="kd">const</span> <span class="nx">res3</span> <span class="o">=</span> <span class="k">await</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="nx">resolve</span> <span class="o">=&gt;</span> <span class="nx">setTimeout</span><span class="p">(()</span><span class="o">=&gt;</span> <span class="nx">resolve</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">1000</span><span class="p">));</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">([</span><span class="nx">res1</span><span class="p">,</span> <span class="nx">res2</span><span class="p">,</span> <span class="nx">res3</span><span class="p">]);</span> <span class="c1">// [1,2,3]</span>
<span class="p">}</span>
<span class="nx">foo</span><span class="p">();</span> <span class="c1">// ì•½ 6ì´ˆê°€ ì†Œìš”ëœë‹¤.</span>
</code></pre></div>    </div>

    <ul>
      <li>ê·¸ëŸ¬ë‚˜, ìœ„ì˜ í”„ë¡œë¯¸ìŠ¤ë“¤ì€ ê°ê° ë…ë¦½ì ì¸ ì—­í• ì„ ìˆ˜í–‰í•œë‹¤. ìˆœì°¨ì ìœ¼ë¡œ ì²˜ë¦¬í•  í•„ìš”ê°€ ì—†ë‹¤.</li>
    </ul>
  </li>
</ul>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">(){</span>
    <span class="kd">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="k">await</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">([</span>
        <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="nx">resolve</span> <span class="o">=&gt;</span> <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">resolve</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="mi">3000</span><span class="p">)),</span>
        <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="nx">resolve</span> <span class="o">=&gt;</span> <span class="nx">setTimeout</span><span class="p">(()</span><span class="o">=&gt;</span> <span class="nx">resolve</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="mi">2000</span><span class="p">)),</span>
        <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="nx">resolve</span> <span class="o">=&gt;</span> <span class="nx">setTimeout</span><span class="p">(()</span><span class="o">=&gt;</span> <span class="nx">resolve</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">1000</span><span class="p">))</span>
    <span class="p">])</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span> <span class="c1">// [1,2,3]</span>
<span class="p">}</span>
<span class="nx">foo</span><span class="p">();</span> <span class="c1">// ì•½ 3ì´ˆê°€ ì†Œìš”ëœë‹¤.</span>
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">n</span><span class="p">){</span>
    <span class="kd">const</span> <span class="nx">res1</span> <span class="o">=</span> <span class="k">await</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="nx">resolve</span> <span class="o">=&gt;</span> <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">resolve</span><span class="p">(</span><span class="nx">n</span><span class="p">),</span> <span class="mi">3000</span><span class="p">));</span>
    <span class="kd">const</span> <span class="nx">res2</span> <span class="o">=</span> <span class="k">await</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="nx">resolve</span> <span class="o">=&gt;</span> <span class="nx">setTimeout</span><span class="p">(()</span><span class="o">=&gt;</span> <span class="nx">resolve</span><span class="p">(</span><span class="nx">res1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">2000</span><span class="p">));</span>
    <span class="kd">const</span> <span class="nx">res3</span> <span class="o">=</span> <span class="k">await</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="nx">resolve</span> <span class="o">=&gt;</span> <span class="nx">setTimeout</span><span class="p">(()</span><span class="o">=&gt;</span> <span class="nx">resolve</span><span class="p">(</span><span class="nx">res2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">1000</span><span class="p">));</span>

    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">([</span><span class="nx">res1</span><span class="p">,</span> <span class="nx">res2</span><span class="p">,</span> <span class="nx">res3</span><span class="p">]);</span> <span class="c1">// [1,2,3]</span>
<span class="p">}</span>
<span class="nx">foo</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span> <span class="c1">// ì•½ 6ì´ˆê°€ ì†Œìš”ëœë‹¤.</span>
</code></pre></div></div>

<h3 id="ì—ëŸ¬-ì²˜ë¦¬">ì—ëŸ¬ ì²˜ë¦¬</h3>
<ul>
  <li>ë¹„ë™ê¸° í•¨ìˆ˜ì˜ ì½œë°± í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì€ ë¹„ë™ê¸° í•¨ìˆ˜ê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— try â€¦catch ë¬¸ì„ ì‚¬ìš©í•´ ì—ëŸ¬ë¥¼ ìºì¹˜í•  ìˆ˜ ì—†ë‹¤.</li>
  <li>async/await ì—ì„œ ì—ëŸ¬ ì²˜ë¦¬ëŠ” try â€¦ catch ë¬¸ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì½œë°± í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ì™€ ë‹¬ë¦¬ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ëŠ” ëª…ì‹œì ìœ¼ë¡œ í˜¸ì¶œí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— caller ê°€ ëª…í™•í•˜ë‹¤.</li>
</ul>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">fetch</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">node-fetch</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">foo</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">try</span><span class="p">{</span>
        <span class="kd">const</span> <span class="nx">wrongURL</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://wrong.url</span><span class="dl">'</span><span class="p">;</span>
        <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="nx">wrongURL</span><span class="p">);</span>
        <span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">){</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span> <span class="c1">//TypeError : Failed to fetch</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="nx">foo</span><span class="p">();</span>
</code></pre></div></div>

<ul>
  <li>foo í•¨ìˆ˜ì˜ catch ë¬¸ì€ HTTP í†µì‹  ì—ëŸ¬ ë¿ë§Œ ì•„ë‹ˆë¼ try ì½”ë“œ ë¸”ë¡ ë‚´ì˜ ëª¨ë“  ë¬¸ì—ì„œ ë°œìƒí•˜ëŠ” ì¼ë°˜ì ì¸ ì—ëŸ¬ë„ ìºì¹˜í•  ìˆ˜ ìˆë‹¤.</li>
  <li>async í•¨ìˆ˜ ë‚´ì—ì„œ catch ë¬¸ì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´, async í•¨ìˆ˜ëŠ” ë°œìƒí•œ ì—ëŸ¬ë¥¼ rejectí•˜ëŠ” í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤.</li>
</ul>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">fetch</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">node-fetch</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">foo</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">wrongURL</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://wrong.url</span><span class="dl">'</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="nx">wrongURL</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">foo</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">).</span><span class="k">catch</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">);</span> <span class="c1">//TypeError : Failed to fetch</span>
</code></pre></div></div>
:ET